<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy New Year</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital@1&family=Poppins:wght@400;500&display=swap" rel="stylesheet">

<style>
/* ===== BASE ===== */
body {
  margin: 0;
  background: #050008;
  color: #ffffff;
  font-family: Poppins, sans-serif;
  overflow-x: hidden;
  overflow-y: auto;
}

.page {
  position: absolute;
  inset: 0;
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 24px;
  text-align: center;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.page.active {
  display: flex;
}

/* ===== SPARKLES ===== */
.sparkle {
  position: fixed;
  width: 2px;
  height: 2px;
  background: #fff;
  border-radius: 50%;
  opacity: 0.6;
  animation: twinkle 3s infinite ease-in-out;
}
@keyframes twinkle {
  0%,100% { opacity: 0.2 }
  50% { opacity: 1 }
}

/* ===== TEXT ===== */
h2 {
  font-family: "Playfair Display", serif;
  font-style: italic;
  font-size: 32px;
  color: #f5f0ff;
}
p { font-size: 17px; }

/* ===== PAGE 1 ===== */
.hold-wrapper {
  position: relative;
  width: 150px;
  height: 150px;
  margin-top: 30px;
}
.heart {
  position: absolute;
  inset: 0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:82px;
  cursor:pointer;
}
svg circle { fill:none; stroke-width:6 }
.ring-bg { stroke:#333 }
.ring-progress {
  stroke:#b38cff;
  stroke-dasharray:314;
  stroke-dashoffset:314;
  transform:rotate(-90deg);
  transform-origin:50% 50%;
  transition:stroke-dashoffset 1s linear;
}

/* ===== PAGE 1 POLISH ===== */
.p1-wrapper {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
}
.p1-glow {
  position: absolute;
  width: 260px;
  height: 260px;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(180, 140, 255, 0.35),
    rgba(180, 140, 255, 0.15),
    transparent 70%
  );
  filter: blur(20px);
  z-index: 0;
}
.hold-wrapper { z-index: 1 }
.p1-hint { font-size: 14px; opacity: 0.65; margin-top: 8px; }
.p1-subtle { font-size: 15px; opacity: 0.75; }

/* ===== PAGE 2 ===== */
.page-2-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}
.page-2-heart {
  width: 90px;
  height: 90px;
  border-radius: 50%;
  background: radial-gradient(circle at center, #ff7eb3, #b36bff);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow:
    0 0 40px rgba(255, 126, 179, 0.45),
    0 0 80px rgba(179, 107, 255, 0.25);
  margin-bottom: 6px;
}
.page-2-heart span { font-size: 34px }
.subtitle { font-size: 15px; opacity: 0.75; }

.boxes {
  width: 100%;
  max-width: 440px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin: 28px 0 34px;
}
.box {
  position: relative;
  height: 56px;
  border-radius: 999px;
  cursor: pointer;
  background: radial-gradient(
    120% 120% at 50% 0%,
    rgba(180, 140, 255, 0.12),
    rgba(10, 5, 20, 0.65)
  );
  backdrop-filter: blur(8px);
  border: 1px solid rgba(180, 140, 255, 0.15);
  box-shadow:
    0 0 20px rgba(120, 80, 200, 0.18),
    inset 0 0 25px rgba(255, 255, 255, 0.04);
  display: flex;
  align-items: center;
  justify-content: center;
}
.box .center-heart {
  font-size: 22px;
  color: rgba(255, 170, 210, 0.85);
}
.box span {
  position: absolute;
  opacity: 0;
  transition: 0.4s ease;
  font-size: 17px;
  color: #ffffff;
  padding: 0 22px;
}
.box.revealed .center-heart { opacity: 0 }
.box.revealed span { opacity: 1 }

/* ===== PAGE 3 ===== */
.hero-img {
  width:95%;
  max-width:460px;
  border-radius:22px;
  margin:20px 0;
}
.envelope {
  font-size:70px;
  margin-top:20px;
  cursor:pointer;
  animation:pulse 1.5s infinite;
}
@keyframes pulse {
  0%{transform:scale(1)}
  50%{transform:scale(1.25)}
  100%{transform:scale(1)}
}

/* ===== PAGE 4 FIX ===== */
#p4 {
  justify-content: flex-start;
  padding-top: 32px;
}
.message-wrapper {
  width: 100%;
  max-width: 520px;
  display: flex;
  justify-content: center;
}
.message-box {
  width: 100%;
  background: linear-gradient(180deg, #ffffff, #faf7ff);
  color: #1a1025;
  padding: 32px;
  border-radius: 26px;
  font-size: 17px;
  line-height: 1.7;
  position: relative;
}
.message-box .flower {
  position: absolute;
  width: 56px;
  pointer-events: none;
}
.message-box .tl { top: 12px; left: 12px; }
.message-box .tr { top: 12px; right: 12px; }
.message-box .bl { bottom: 12px; left: 12px; }
.message-box .br { bottom: 12px; right: 12px; }

/* ===== FIREWORKS ===== */
#fireworks-canvas {
  position: fixed;
  inset: 0;
  width:100vw;
  height:100vh;
  pointer-events:none;
  z-index:1;
}

button {
  margin-top:28px;
  padding:16px 36px;
  font-size:19px;
  border-radius:40px;
  border:none;
  background:#b38cff;
  color:white;
  cursor:pointer;
}
</style>
</head>

<body>

<script>
for(let i=0;i<80;i++){
  const s=document.createElement("div");
  s.className="sparkle";
  s.style.left=Math.random()*100+"vw";
  s.style.top=Math.random()*100+"vh";
  s.style.animationDelay=Math.random()*3+"s";
  document.body.appendChild(s);
}
</script>

<!-- PAGE 4 (unchanged content, fixed layout) -->
<div class="page" id="p4">
  <h2>For pretty baby lei :)</h2>

  <div class="message-wrapper">
    <div class="message-box">
      <img src="lily.webp" class="flower tl">
      <img src="lily.webp" class="flower tr">
      <img src="lily.webp" class="flower bl">
      <img src="lily.webp" class="flower br">

      <p>
        Hey Lei,<br><br>
        I wish you a very happy new year. I want you to know that I'm very proud of you.
        I hope this year brings you the freedom, peace and happiness you have always longed for.
        Wherever life may take you, I hope you always keep smiling and know that you're deeply cherished
        and cared for so you never doubt yourself.<br><br>

        always wishing you well,<br><br>
        Raab&lt;3
      </p>
    </div>
  </div>

  <button onclick="handleFireworks()">Watch fireworks</button>
</div>

</body>
</html>


